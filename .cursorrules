# Cursor Rules for Catan Agent Project

## Backend Server Restart
- **ALWAYS source ~/.zshrc before restarting the backend server**
- When restarting the backend, use: `source ~/.zshrc && cd backend && source .venv/bin/activate && uvicorn main:app --reload --host 0.0.0.0 --port 8000`
- This ensures all shell environment variables and PATH settings are loaded correctly

## Output Handling
- **NEVER pipe command outputs** (e.g., `| tail`, `| head`, `| grep`, etc.) when running commands
- Piping loses visibility and potentially loses information
- Instead, use one of these alternatives:
  - Write output to a log file and read the log file
  - Run the command without piping and let full output display
  - Use file redirection to a log file (e.g., `> logfile.txt 2>&1`) then read the file
  - If output is too long, use pagination tools that preserve full output (like `less` or `more`)
- When analyzing command output, read the full log file rather than piping

## LLM Behavior and Determinism
- **LLM stochasticity is NOT a significant source of variability** in these agents
- DSPy caches LLM calls by default - repeated calls with same inputs return cached results
- If performance changes between runs, it's due to actual changes in:
  - Prompt/signature changes
  - Input data changes
  - Evaluation metric changes
  - System setup differences
- **DO NOT attribute performance differences to "randomness" or "stochasticity"**
- Always look for systematic differences in setup/evaluation when results differ

